{% extends 'base.html' %}
{% block content %}
<article class="card card--full">
  <header style="display:flex;justify-content:space-between;align-items:center;gap:1rem;padding:1rem 1.25rem;">
    <h2 style="margin:0">Атрибуты (Entity)</h2>
    <a href="/entities/create/" class="btn btn-primary btn-sm">+ Добавить атрибут</a>
  </header>

  <div class="table-wrapper">
    <table class="table-fixed table-entities">
      <colgroup>
        <col class="c-name">
        <col class="c-key">
        <col class="c-placeholder">
        <col class="c-actions">
      </colgroup>
      <thead>
        <tr>
          <th>Название</th>
          <th>Ключ</th>
          <th>Плейсхолдер</th>
          <th class="actions-col">Действия</th>
        </tr>
      </thead>
      <tbody>
        {% for e in entities %}
        <tr>
          <td class="wrap">
            <div class="clamp-2" title="{{ e.name }}">{{ e.name|truncatechars:100 }}</div>
          </td>
          <td><code class="monospace wrap">{{ e.key }}</code></td>
          <td><span class="pill monospace">{{ e.placeholder }}</span></td>
          <td class="actions-col">
            <div class="action-stack">
              <a href="/entities/{{ e.id }}/edit/" class="btn btn-primary btn-sm">Изменить</a>
              <a href="/entities/{{ e.id }}/delete/" class="btn btn-outline btn-danger btn-sm">Удалить</a>
            </div>
          </td>
        </tr>
        {% empty %}
        <tr><td colspan="4">Пока нет атрибутов</td></tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
</article>
{% endblock %}
